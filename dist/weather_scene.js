define("src/view/common",["require","exports","module","src/config","cqwrap/audio","cqwrap/buttons"],function(e,t,n){var r=e("src/config"),i=e("cqwrap/audio"),s=e("cqwrap/buttons").Button;n.exports={pointSprite:{create:function(){var e=cc.createSprite({texture:"point.png",anchor:[.36,1],opacity:0,xy:[0,0]}),t=cc.p(0,0);return e.delay(3).then(function(){t=this.getStyle("xy")}).fadeIn(.1).moveBy(.5,cc.p(0,8)).moveBy(.5,cc.p(0,-8)).repeat(2,2).moveBy(.5,cc.p(0,8)).moveBy(.5,cc.p(0,-8)).fadeOut(.2).then(function(){this.setStyle("xy",t)}).delay(3).repeat(0,7),e}},tipsSprite:{create:function(){var e=100,t=60,n=cc.createSprite("@",{anchor:[.5,.5],xy:[0,0],color:cc.c4f(1,1,1,1),fontSize:12}),r=cc.createSprite({anchor:[.5,.5],xy:[e-4,4]}),i=cc.createSprite({anchor:[.5,.5],xy:[e*.5,t*.5]}),s=cc.DrawNode.create();s.setStyle("scaleY",.6),s.setStyle("rotate",-20),s.drawDot(cc.p(0,0),8,cc.c4f(1,1,1,.2));var o=cc.DrawNode.create();o.setStyle("scaleY",.6),o.drawDot(cc.p(0,0),50,cc.c4f(1,1,1,.2)),r.addChild(s),i.addChild(o);var u=cc.createSprite({anchor:[0,0],width:e,height:t});return u.addChild(r),i.addChild(n),u.addChild(i),u}},audioBtn:{create:function(){function t(e){e?(o.setString("音效开启"),r.setStyle("texture","audio_open.png")):(o.setString("音效关闭"),r.setStyle("texture","audio_close.png"))}var e=i.getEnable().effect,n=new s({anchor:[.5,.5],size:[70,20]},function(){e=!e,i.setEnable(e),t(e)}),r=cc.createSprite("audio_open.png",{anchor:[0,0],xy:[0,0]}),o=cc.createSprite("@音效开启",{fontSize:12,anchor:[0,.5],xy:[20,n.getStyle("height")/2]});return t(e),n.addChild(r),n.addChild(o),n}},setTipsLabel:function(e,t,n){var i=r.tips[e];return i&&i.length>0?(n%=i.length,tip=i[n],t.setString(tip.text.replace(/\\n/g,"\n")),r.tipsIndex[e][1]=tip.qcmsdid,++n):(t.setString("Hi!"),0)}}}),define("src/view/base",["require","exports","module","src/config","src/view/common","cqwrap/layers","cqwrap/audio","cqwrap/scenes"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("cqwrap/layers").BgLayer,o=e("cqwrap/audio"),u=e("cqwrap/scenes").BaseScene,a=u.extend({ctor:function(e){this.bgPath=e,this._super()},init:function(){this._super();if(this.plistRes instanceof Array){this.plistRes.push({plist:r.g_resources.other[0].src,png:r.g_resources.other[1].src});var e=cc.SpriteFrameCache.getInstance();this.plistRes.forEach(function(t){e._plist=e._plist||[];if(e._plist[t.plist])return;e._plist[t.plist]=!0,e.addSpriteFrames(t.plist,t.png)})}if(!!this.bgPath){var t=new s(this.bgPath);this.addChild(t)}if(this.SheepLayer){var n=new this.SheepLayer;this.addChild(n);if(this.audioRes.length>0){this.audioRes.forEach(function(e){o.preloadEffect(e)});var u=global.director.getWinSize(),a=i.audioBtn.create();a.setStyle("xy",[u.width-45,u.height-20]),a.on("click",function(e,t,n){r.subscribe.triggerHandler("click",{target:"audioBtn"})}),n.addChild(a)}}},SheepLayer:null,plistRes:[],audioRes:[]});n.exports=a}),define("src/view/sunday",["require","exports","module","src/config","src/view/common","src/view/base","cqwrap/layers","cqwrap/audio","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("src/view/base"),o=e("cqwrap/layers").GameLayer,u=e("cqwrap/audio"),a=e("cqwrap/animate").AnimationTask,f="sunday/",l=o.extend({init:function(){this._super();var e=global.director.getWinSize(),t=i.tipsSprite.create(),n,s,o,l=0;if(t){var c=t.getChildren();n=c[0],s=c[1],o=s.getChildren()[1],n.setStyle("opacity",0),s.setStyle("opacity",0),t.setStyle("xy",[e.width*.58|0,e.height*.44|0])}var h=cc.createSprite({texture:f+"eat-0.png",anchor:[.5,.2],xy:[e.width*.8,e.height*.18]}),p=i.pointSprite.create();p.setStyle("xy",[e.width*.8,e.height*.2]);var d=(new a).animate(.8,f+"eat-%d.png",0,1).repeat(3,1).animate(.8,f+"eat-%d.png",2,3).repeat(),v=(new a).animate(.5,f+"laugh-%d.png",0,4).then(function(e){n&&n.fadeIn(.8).act(),s&&s.delay(.2).then(function(){l=i.setTipsLabel("sunday",o,l)}).fadeIn(.6).act()}).animate(.4,f+"laugh-%d.png",5,8).repeat(2,1).animate(.6,f+"speak-%d.png",0,1).repeat(8,1).then(function(e){n&&n.fadeOut(.8).act(),s&&s.delay(.2).fadeOut(.6).act()}).animate(.8,f+"eat-%d.png",4,5).then(function(e){e.act(d)});this.addChild(h),this.addChild(p),h.act(d),p.act(),this.delegate(h),h.on("click",function(e,t,i){n&&n.stopAllActions(),s&&s.stopAllActions(),h.stopAllActions(),h.act(v),p.stopAllActions(),p.setStyle("opacity",0),u.playEffect(r.resAudioPath+"m.mp3"),this.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"sheep"})}).on("mouseenter",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"sheep"})}).on("mouseleave",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"sheep"})}),t&&(this.addChild(t),this.delegate(t),t.on("click",function(e,t,n){s.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"tips"})}).on("mouseenter",function(e,t,n){s.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"tips"})}).on("mouseleave",function(e,t,n){s.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"tips"})}))}}),c=s.extend({SheepLayer:l,plistRes:[{plist:r.g_resources.sunday[0].src,png:r.g_resources.sunday[1].src}],audioRes:[r.resAudioPath+"m.mp3"]});n.exports=c}),define("src/view/sunnight",["require","exports","module","src/config","src/view/common","src/view/base","cqwrap/layers","cqwrap/audio","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("src/view/base"),o=e("cqwrap/layers").GameLayer,u=e("cqwrap/audio"),a=e("cqwrap/animate").AnimationTask,f="sunnight/",l=o.extend({init:function(){this._super();var e=global.director.getWinSize(),t=cc.createSprite({texture:f+"star-0.png",anchor:[1,1],xy:[e.width*.88,e.height*.95]}),n=cc.createSprite({texture:f+"star-1.png",anchor:[1,1],xy:[e.width*.88,e.height*.95]});t.fadeIn(2).fadeOut(2).repeat().act(),n.fadeOut(2).fadeIn(2).repeat().act();var s=cc.createSprite({anchor:[.5,.5],xy:[e.width*.86,e.height*.48],opacity:0}),o=cc.createSprite({anchor:[.5,.5],xy:[e.width*.78,e.height*.56],opacity:0}),l=cc.DrawNode.create();l.setStyle("scaleY",.6),l.setStyle("rotate",-20),l.drawDot(cc.p(0,0),8,cc.c4f(1,1,1,.2));var c=cc.DrawNode.create();c.setStyle("scaleY",.6),c.drawDot(cc.p(0,0),50,cc.c4f(1,1,1,.2));var h=0,p=cc.createSprite("@",{anchor:[.5,.5],xy:[0,0],color:"#eee",fontSize:12});s.addChild(l),o.addChild(c),o.addChild(p),o.setStyle("opacity",0);var d=cc.createSprite({texture:f+"sleep-0.png",anchor:[.5,0],xy:[e.width*.85,e.height*.22]}),v=i.pointSprite.create();v.setStyle("xy",[e.width*.86,e.height*.26]);var m=(new a).animate(1.5,f+"sleep-%d.png",0,4).delay(.2).animate(1.5,f+"sleep-%d.png",4,0).delay(.3).repeat();this.addChild(t),this.addChild(n),this.addChild(d),this.addChild(v),this.addChild(s),this.addChild(o),d.act(m),v.act(),this.delegate(d),d.on("click",function(e,t,n){s.stopAllActions(),o.stopAllActions(),s.fadeIn(1).delay(4).fadeOut(1).act(),o.delay(.5).then(function(){h=i.setTipsLabel("sunnight",p,h)}).fadeIn(.5).delay(4).fadeOut(.5).act(),v.stopAllActions(),v.setStyle("opacity",0),u.playEffect(r.resAudioPath+"zzz.mp3"),this.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"sheep"})}).on("mouseenter",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"sheep"})}).on("mouseleave",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"sheep"})})}}),c=s.extend({SheepLayer:l,plistRes:[{plist:r.g_resources.sunnight[0].src,png:r.g_resources.sunnight[1].src}],audioRes:[r.resAudioPath+"zzz.mp3"]});n.exports=c}),define("src/view/overcastday",["require","exports","module","src/config","src/view/common","src/view/base","cqwrap/layers","cqwrap/audio","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("src/view/base"),o=e("cqwrap/layers").GameLayer,u=e("cqwrap/audio"),a=e("cqwrap/animate").AnimationTask,f="overcastday/",l=o.extend({init:function(){this._super();var e=global.director.getWinSize(),t=cc.createSprite({texture:f+"normal-0.png",anchor:[.5,.2],xy:[e.width*.8,e.height*.18]}),n=i.pointSprite.create();n.setStyle("xy",[e.width*.76,e.height*.2]);var s=(new a).animate(3.2,f+"normal-%d.png",0,7).repeat(),o=(new a).animate(.8,f+"click-%d.png",0,0).animate(.5,f+"click-%d.png",1,5).delay(.6).animate(.6,f+"click-%d.png",6,8).then(function(e){e.act(s)});this.addChild(t),this.addChild(n),t.act(s),n.act(),this.delegate(t),t.on("click",function(e,i,s){t.stopAllActions(),t.act(o),n.stopAllActions(),n.setStyle("opacity",0),this.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"sheep"})}).on("mouseenter",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"sheep"})}).on("mouseleave",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"sheep"})})}}),c=s.extend({SheepLayer:l,plistRes:[{plist:r.g_resources.overcastday[0].src,png:r.g_resources.overcastday[1].src}],audioRes:[]});n.exports=c}),define("src/view/rainday",["require","exports","module","src/config","src/view/common","src/view/base","cqwrap/layers","cqwrap/audio","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("src/view/base"),o=e("cqwrap/layers").GameLayer,u=e("cqwrap/audio"),a=e("cqwrap/animate").AnimationTask,f="rainday/",l=o.extend({init:function(){this._super();var e=global.director.getWinSize(),t=new cc.ParticleRain,n=cc.TextureCache.getInstance().addImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAASCAYAAACTvBTGAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFMzNDOEU1M0EzMDExRTQ4MUY3RjIyN0Q1MzE3OEI1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFMzNDOEU2M0EzMDExRTQ4MUY3RjIyN0Q1MzE3OEI1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0UzM0M4RTMzQTMwMTFFNDgxRjdGMjI3RDUzMTc4QjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0UzM0M4RTQzQTMwMTFFNDgxRjdGMjI3RDUzMTc4QjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5BSTuMAAAAh0lEQVR42mL8//8/w8FztxiAgAeIv9gbqTEwMUCAKBBPA2JWEAcmqAbE1kCsjCwoA8RKQCyHLCgJpaWQBSWgtDSyoBg2QREoLY5NUARZkAdK8yMLciFLwgTZoTQLsuAfKP0PWfAtMg0TvI9MwwTPINMwwT1AfBeId8FtA4KzQGwACmQQByDAAPeIFUeo+XddAAAAAElFTkSuQmCC");t.initWithTotalParticles(500),t.setDrawMode(cc.PARTICLE_TEXTURE_MODE),t.setTexture(n),t.setSpeed(350),t.setStartSize(5),t.setStartSizeVar(3),t.setGravity(cc.p(0,-10)),t.setAngleVar(0),t.setLife(1),t.setLifeVar(1),t.setEmissionRate(50),t.setStartColor(cc.c4b(192,205,217,1)),t.setStartColorVar(cc.c4b(0,0,0,0)),t.setEndColor(cc.c4b(192,205,217,.7)),t.setEndColorVar(cc.c4b(0,0,0,0));var s=cc.createSprite({texture:f+"normal-0.png",anchor:[.5,0],xy:[e.width*.84,e.height*.08]}),o=i.pointSprite.create();o.setStyle("xy",[e.width*.85,e.height*.2]);var l=(new a).animate(.9,f+"normal-%d.png",0,2).animate(1,f+"normal-%d.png",3,7).repeat(2,1).repeat(),c=(new a).animate(.2,f+"click-%d.png",0,1).animate(.2,f+"click-%d.png",2,3).repeat(5,1).animate(.4,f+"click-%d.png",4,5).then(function(e){e.act(l)});this.addChild(t),this.addChild(s),this.addChild(o),s.act(l),o.act(),this.delegate(s),s.on("click",function(e,t,n){s.stopAllActions(),s.act(c),o.stopAllActions(),o.setStyle("opacity",0),u.playEffect(r.resAudioPath+"a.mp3"),this.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"sheep"})}).on("mouseenter",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"sheep"})}).on("mouseleave",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"sheep"})})}}),c=s.extend({SheepLayer:l,plistRes:[{plist:r.g_resources.rainday[0].src,png:r.g_resources.rainday[1].src}],audioRes:[r.resAudioPath+"a.mp3"]});n.exports=c}),define("src/view/dustday",["require","exports","module","src/config","src/view/common","cqwrap/layers","cqwrap/scenes","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("cqwrap/layers"),o=e("cqwrap/scenes").BaseScene,u=e("cqwrap/animate").AnimationTask,a=s.GameLayer,f=s.BgLayer,l=a.extend({init:function(){this._super();var e=global.director.getWinSize(),t=r.tips.dustday,n=i.tipsSprite.create(t);if(!n||!t||!t[0])return;var s=n.getChildren()[1],o=s.getChildren()[1];o.setString(t[0].text.replace(/\\n/g,"\n")),n.setStyle("xy",[e.width*.62|0,e.height*.5|0]),this.addChild(n),this.delegate(n),n.on("click",function(e,t,n){s.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"tips"})}).on("mouseenter",function(e,t,n){s.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"tips"})}).on("mouseleave",function(e,t,n){s.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"tips"})})}}),c=o.extend({ctor:function(e){this.bgPath=e,this._super()},init:function(){this._super();var e;this.bgPath?e=new f(this.bgPath):e=new f(appConf.bgScenePath+"1-29.png"),this.addChild(e);var t=new l;this.addChild(t)}});n.exports=c}),define("src/view/cloudyday",["require","exports","module","src/config","src/view/common","src/view/base","cqwrap/layers","cqwrap/audio","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("src/view/base"),o=e("cqwrap/layers").GameLayer,u=e("cqwrap/audio"),a=e("cqwrap/animate").AnimationTask,f="cloudyday/",l=o.extend({init:function(){this._super();var e=global.director.getWinSize(),t=cc.createSprite({texture:f+"cloud-0.png",anchor:[.5,.5],xy:[e.width*.7,e.height*.74]}),n=cc.createSprite({texture:f+"cloud-1.png",anchor:[.5,.5],xy:[e.width*.9,e.height*.75]}),s=cc.createSprite({texture:f+"cloud-2.png",anchor:[.5,.4],xy:[0,0]}),o=cc.createSprite({texture:f+"cloud-4.png rect(0,0,85,24)",anchor:[0,1],xy:[0,s.getStyle("height")]}),u=cc.createSprite({texture:f+"flow-0.png",anchor:[.5,.32],xy:[2,0]}),l=cc.createSprite({anchor:[.5,.5],xy:[e.width*.8,e.height*.8]}),c=cc.createSprite({texture:f+"bird-0.png",anchor:[.2,.6],xy:[e.width+50,e.height*.7]}),h=i.pointSprite.create();h.setStyle("xy",[e.width*.8,e.height*.7]);var p=(new a).animate(.2,f+"bird-0.png",f+"bird-1.png").repeat(),d=(new a).moveTo(.5,l.getStyle("xy")).then(function(e){e.stop(p)}).animate(.3,f+"bird-2.png",f+"bird-3.png").repeat(2,1).then(function(e){e.act(p),u.act(v)}).moveTo(.5,cc.p(e.width*.6,e.height+50)).then(function(t){t.setStyle("xy",[e.width+50,e.height*.7])}),v=(new a).then(function(e){e.setStyle("y",-15)}).animate(.2,f+"click-%d.png",0,1).repeat(6,1).then(function(e){e.setStyle("texture",f+"click-2.png"),e.setStyle("y",-18),s.moveBy(3,cc.p(0,-30),cc.EaseIn,2).act(),o.delay(2).slideTo(1,40).fadeOut(3).then(function(e){e.setTextureRect(cc.rect(0,0,85,24)),e.setStyle("opacity",255)}).act()}).moveBy(3,cc.p(0,-50),cc.EaseIn,2).delay(.2).then(function(e){e.setStyle("texture",f+"click-3.png")}).moveBy(.4,cc.p(0,-60),cc.EaseIn,2).animate(.9,f+"click-%d.png",4,6).delay(.4).animate(1,f+"click-%d.png",7,7).animate(.4,f+"click-%d.png",8,9).repeat(5,1).animate(.9,f+"click-%d.png",10,12).delay(.3).then(function(e){e.setStyle("texture",f+"click-13.png")}).delay(.5).then(function(e){e.moveBy(.2,cc.p(0,75),cc.EaseIn,2).act()}).animate(.2,f+"click-%d.png",14,15).delay(.4).then(function(e){s.moveBy(.1,cc.p(0,-5)).act(),e.setStyle("texture",f+"click-16.png")}).moveBy(.1,cc.p(0,10),cc.EaseOut,2).delay(.2).then(function(e){s.moveBy(1,cc.p(0,35)).act()}).moveBy(1,cc.p(0,35)).delay(.5).then(function(e){e.setStyle("texture",f+"flow-0.png"),e.setStyle("y",0),l.resumeSchedulerAndActions()});this.addChild(t),this.addChild(n),s.addChild(o),l.addChild(s),l.addChild(u),this.addChild(l),this.addChild(c),this.addChild(h),t.moveBy(6,cc.p(-14,0)).moveBy(6,cc.p(14,0)).repeat().act(),n.moveBy(4,cc.p(12,0)).moveBy(4,cc.p(-12,0)).repeat().act(),l.moveBy(3,cc.p(10,0)).moveBy(3,cc.p(-10,0)).repeat().act(),c.act(p),h.act(),this.delegate(u),u.on("click",function(t,n,i){l.pauseSchedulerAndActions(),l.setStyle("y",e.height*.8),u.stopAllActions(),u.setStyle("xy",[2,0]),u.setStyle("texture",f+"flow-0.png"),s.stopAllActions(),s.setStyle("xy",[0,0]),c.stopAllActions(),c.act(p),c.act(d),h.stopAllActions(),h.removeFromParent(!0),this.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"sheep"})}).on("mouseenter",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"sheep"})}).on("mouseleave",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"sheep"})})}}),c=s.extend({SheepLayer:l,plistRes:[{plist:r.g_resources.cloudyday[0].src,png:r.g_resources.cloudyday[1].src}],audioRes:[]});n.exports=c}),define("src/view/bgScene",["require","exports","module","cqwrap/layers","cqwrap/scenes"],function(e,t,n){var r=e("cqwrap/layers").BgLayer,i=e("cqwrap/scenes").BaseScene,s=i.extend({ctor:function(e){this.bgPath=e,this._super()},init:function(e){this._super(),!this.bgPath||(bgLayer=new r(this.bgPath),this.addChild(bgLayer))}});n.exports=s}),define("src/view/warnScene",["require","exports","module","src/config","src/view/common","src/view/base","cqwrap/layers","cqwrap/audio","cqwrap/animate"],function(e,t,n){var r=e("src/config"),i=e("src/view/common"),s=e("src/view/base"),o=e("cqwrap/layers").GameLayer,u=e("cqwrap/audio"),a=e("cqwrap/animate").AnimationTask,f="warn/",l=o.extend({init:function(){this._super();var e=global.director.getWinSize(),t=!1,n="http://www.weather.com.cn/alarm/newalarmlist.shtml",s=i.tipsSprite.create(),o,u,l,c=0;if(s){var h=s.getChildren();o=h[0],u=h[1],l=u.getChildren()[1],o.setStyle("opacity",0),s.setStyle("xy",[e.width*.68|0,e.height*.4|0]),l.setStyle("color","white")}var p=cc.createSprite({texture:f+"speak-0.png",anchor:[.5,.2],xy:[e.width*.88,e.height*.25]}),d=i.pointSprite.create();d.setStyle("xy",[e.width*.88,e.height*.2]);var v=(new a).then(function(){l.setString(r.alert.replace(/\\n/g,"\n")),t=!1}).animate(.5,f+"speak-%d.png",0,3).repeat(10,1).animate(.4,f+"speak-%d.png",4,5).repeat(10,1).repeat(),m=(new a).then(function(){l.setString("    你“造”吗\n点这可以看全国\n    天气预警>>"),t=!0}).animate(.4,f+"click-%d.png",0,1).repeat(10,1).then(function(e){e.act(v)});this.addChild(p),this.addChild(d),p.act(v),d.act(),this.delegate(p),p.on("click",function(e,n,i){p.stopAllActions(),t?p.act(v):p.act(m),d.removeFromParent(),this.getStyle("opacity")&&r.subscribe.triggerHandler("click",{target:"sheep"})}).on("mouseenter",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"sheep"})}).on("mouseleave",function(e,t,n){this.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"sheep"})}),s&&(this.addChild(s),this.delegate(s),s.on("click",function(e,i,s){var o={target:"tips"};t&&(o.url=n),u.getStyle("opacity")&&r.subscribe.triggerHandler("click",o)}).on("mouseenter",function(e,t,n){u.getStyle("opacity")&&r.subscribe.triggerHandler("mouseenter",{target:"tips"})}).on("mouseleave",function(e,t,n){u.getStyle("opacity")&&r.subscribe.triggerHandler("mouseleave",{target:"tips"})}))}}),c=s.extend({SheepLayer:l,plistRes:[{plist:r.g_resources.warnScene[0].src,png:r.g_resources.warnScene[1].src}],audioRes:[]});n.exports=c});